<!DOCTYPE HTML>
<html>
<head>
  <script src="//code.jquery.com/jquery-1.4.2.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/0.9.16/socket.io.min.js"></script>
  <script>
  $(document).ready(function() {
      // explicit package upon connection to prevent global namespace use.
      var socket = io.connect('http://' + document.domain + ':' + location.port + '/chat');
      // emits user input data to server.
      $('form#emit').submit(function(event) {
          socket.emit('user', {data: $('#emit_data').val()});
          return false;
      });
      // response sent from server; user message sent to output on screen.
      socket.on('response', function(msg) {
        $("#messages").append("<p>" + msg.data + "</p>");
      });
  });
  </script>
</head>
<body>
  <div class="container" style="margin:0 auto; width:50%;">
    <h1>Health chat service</h1>
    <div id="messages"></div>
    <form id="emit" method="POST" action='#'>
      <textarea style="width:100%; height:50px; padding:5px;" id="emit_data" placeholder="Type a message here"></textarea>
      <input type="submit" value="Send">
    </form>
  </div>
</body>
</html>
